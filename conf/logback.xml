<!-- https://www.playframework.com/documentation/latest/SettingsLogger -->
<configuration>

  <conversionRule conversionWord="coloredLevel" converterClass="play.api.libs.logback.ColoredLevel" />

  <appender name="FILE" class="ch.qos.logback.core.FileAppender">
    <file>logs/application.log</file>
    <encoder>
      <pattern>%date [%level] from %logger in %thread - %message%n%xException</pattern>
    </encoder>
  </appender>

  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    <encoder>
      <pattern>%coloredLevel %logger{15} - %message%n%xException{10}</pattern>
    </encoder>
  </appender>

  <appender name="ASYNCFILE" class="ch.qos.logback.classic.AsyncAppender">
    <appender-ref ref="FILE" />
  </appender>

  <appender name="ASYNCSTDOUT" class="ch.qos.logback.classic.AsyncAppender">
    <appender-ref ref="STDOUT" />
  </appender>

  <logger name="play" level="INFO" />
  <logger name="application" level="DEBUG" />

<!--  <appender name="theConsoleAppender" class="ch.qos.logback.core.ConsoleAppender">-->
<!--    <encoder>-->
<!--      <pattern>%-4r [%t] %-5p %c %x - %m%n</pattern>-->
<!--    </encoder>-->
<!--  </appender>-->
  <!-- Off these ones as they are annoying, and anyway we manage configuration ourselves -->
  <logger name="com.avaje.ebean.config.PropertyMapLoader" level="OFF" />
  <logger name="com.avaje.ebeaninternal.server.core.XmlConfigLoader" level="OFF" />
  <logger name="com.avaje.ebeaninternal.server.lib.BackgroundThread" level="OFF" />
  <logger name="com.gargoylesoftware.htmlunit.javascript" level="OFF" />


  <appender name="customLoggerAppender" class="ch.qos.logback.core.ConsoleAppender">
<!--    <file>log/jsonLayout.log</file>-->
<!--    <encoder class="ch.qos.logback.core.encoder.LayoutWrappingEncoder">-->
    <encoder class="net.logstash.logback.encoder.LogstashEncoder">
      <customFields>{"application":"log-odyssey"}</customFields>
      <provider class="config.NamedArgumentJsonProvider"/>
<!--      <layout class="ch.qos.logback.contrib.json.classic.JsonLayout">-->
<!--        <timestampFormat>yyyy-MM-dd'T'HH:mm:ss.SSSX</timestampFormat>-->
<!--        <timestampFormatTimezoneId>Etc/UTC</timestampFormatTimezoneId>-->
<!--        <jsonFormatter class="ch.qos.logback.contrib.jackson.JacksonJsonFormatter">-->
<!--          <prettyPrint>true</prettyPrint>-->
<!--        </jsonFormatter>-->
<!--      </layout>-->
    </encoder>
<!--    <encoder class="net.logstash.logback.encoder.LogstashEncoder">-->
<!--      <provider class="config.UnformattedMessageJsonProvider"/>-->
<!--      <provider class="config.NamedArgumentJsonProvider"/>-->
<!--    </encoder>`-->
  </appender>

<!--  <root level="WARN">-->
<!--    <appender-ref ref="ASYNCFILE" />-->
<!--    <appender-ref ref="ASYNCSTDOUT" />-->
<!--    <appender-ref ref="theConsoleAppender"/>-->
<!--    <appender-ref ref="customLoggerAppender"/>-->
<!--  </root>-->

  <root level="INFO">
    <appender-ref ref="ASYNCFILE" />
    <appender-ref ref="ASYNCSTDOUT" />
<!--    <appender-ref ref="theConsoleAppender"/>-->
    <appender-ref ref="customLoggerAppender"/>
  </root>

<!--  <root level="DEBUG">-->
<!--    <appender-ref ref="ASYNCFILE" />-->
<!--    <appender-ref ref="ASYNCSTDOUT" />-->
<!--    <appender-reff ref="theConsoleAppender"/>-->
<!--    <appender-reff ref="customLoggerAppender"/>-->
<!--  </root>-->

</configuration>
